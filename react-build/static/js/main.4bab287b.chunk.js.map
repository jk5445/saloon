{"version":3,"sources":["services/fetch.js","hooks/useAuth.js","hooks/useUser.js","services/user.service.js","components/Header.js","components/Navigation.js","components/Persist.js","components/ConfiguredInterweave.js","_helpers/randomColor.js","components/Feed.js","hooks/useFeed.js","services/conversation.service.js","pages/Home.js","components/Form.js","pages/Login.js","services/authentication.service.js","pages/Register.js","components/Sidebar.js","components/ConfiguredQuill.js","components/Contributors.js","hooks/useConversation.js","hooks/useComments.js","services/comment.service.js","hooks/useReload.js","pages/Conversation.js","pages/Post.js","App.js","serviceWorker.js","index.js"],"names":["isDev","process","newFetch","url","headers","body","options","fullUrl","path","join","fetch","JSON","stringify","then","resp","ok","json","useAuth","useContext","AuthContext","useUser","token","setToken","isLoggedIn","setIsLoggedIn","useState","user","setUser","useEffect","Authorization","userService","u","catch","_","Search","props","className","placeholder","size","color","UserDropdown","open","setOpen","DropdownLink","to","other","DropdownItem","onClick","redirect","Dropdown","isOpen","toggle","nav","DropdownToggle","caret","name","DropdownMenu","right","divider","withRouter","first_name","undefined","history","push","NavLink","location","pathname","includes","children","Navigation","Persist","persist","debounce","data","window","localStorage","setItem","isEqual","this","getItem","onMount","parse","onComplete","React","Component","defaultProps","ConfiguredInterweave","matchers","UrlMatcher","randomColor","username","randCol","seed","FeedItem","navigate","convo_id","title","Metadata","content","description","list","PeopleInvolved","people","contributors","length","creator","age","views","votes","comments","round","items","convo_ids","map","item","key","x","post","useFeed","didPersistLoad","feed","setFeed","method","conversationService","convos","Home","Field","render","msg","replace","Login","state","from","initialValues","email","password","onSubmit","actions","authenticationService","e","setErrors","setSubmitting","isSubmitting","type","disabled","Register","last_name","vals","setFieldError","validationSchema","Yup","shape","required","Sidebar","showing","setShowing","toggleShowing","selectedIndex","setSelected","activeMeta","useMemo","Children","forEach","child","i","isValidElement","index","Icon","icon","style","handleIconClick","count","ConfiguredQuill","value","setValue","otherProps","theme","modules","toolbar","formats","onChange","missingPropWarning","propName","noRet","console","warn","Contributors","SECTION_COMPONENT_LOOKUP","invited","InvitedSection","active","ActiveSection","sections","noTitle","section","InviteBar","onInvite","newUser","toLowerCase","trim","ContributorSection","invite","Contributor","src","image","inputRef","inviteUser","focus","autoComplete","currentTarget","onKeyDown","ref","input","useConversation","id","reload","conversation","setConvo","setComments","useReload","setReload","Title","userVote","updateVote","isContributor","TitleVote","setVote","nVote","Discussion","posts","setBody","submit","DiscussionItem","contributor","time_of_post","Comments","newComment","setNewComment","setIsSubmitting","comment","Comment","time_of_comment","postComment","likes","upvoted","setUpvoted","fontSize","Conversation","match","params","convoReload","reloadConvo","commentReload","reloadComments","convo","useComments","setPost","setInvited","vote","GoCommentDiscussion","commentService","GoOrganization","width","transition","Post","setTitle","submitting","Editor","Spinner","css","val","createContext","SecuredRoute","component","authenticated","rest","App","setPersistLoad","Provider","exact","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4bab287b.chunk.js","sourcesContent":["import path from 'path'\n\nconst isDev = () =>\n  !process.env.NODE_ENV || process.env.NODE_ENV === 'development'\n\n/**\n *\n * @param {string} url\n * @param {import(\"http\").RequestOptions} options\n */\nexport default function newFetch(url, { headers, body, ...options }) {\n  const fullUrl = path.join(\n    isDev() ? 'https://agile-tor-73556.herokuapp.com/api/v1' : '/api/v1',\n    url\n  )\n\n  return fetch(fullUrl, {\n    headers: { 'Content-Type': 'application/json', ...headers },\n    ...options,\n    body: JSON.stringify(body),\n  }).then(resp => {\n    if (resp.ok) return resp.json()\n    throw resp\n  })\n}\n","import { useContext } from 'react'\nimport { AuthContext } from '../App'\n\nexport default function useAuth() {\n  return useContext(AuthContext)\n}\n","import { useState, useEffect } from 'react'\n\nimport * as userService from '../services/user.service'\n\nimport useAuth from './useAuth'\n\nexport default function useUser() {\n  const { token, setToken, isLoggedIn, setIsLoggedIn } = useAuth()\n  const [user, setUser] = useState(null)\n\n  useEffect(() => {\n    if (!token || !isLoggedIn) return\n\n    const logout = () => {\n      setToken(null)\n      setIsLoggedIn(false)\n      setUser(null)\n    }\n\n    userService\n      .getUser(token)\n      .then(u => setUser(u))\n      .catch(_ => logout())\n  }, [token, setToken, isLoggedIn, setIsLoggedIn])\n\n  return user\n}\n","import fetch from './fetch'\n\nexport function getUser(token) {\n  return fetch('/user', { headers: { Authorization: token } })\n}\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { Link } from 'react-router-dom'\nimport { GoSearch } from 'react-icons/go'\nimport {\n  Dropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n} from 'reactstrap'\n\nimport useUser from '../hooks/useUser'\nimport useAuth from '../hooks/useAuth'\n\nimport './styles/Header.scss'\n\nfunction Header(props) {\n  const { isLoggedIn } = useAuth()\n  const user = useUser()\n\n  return (\n    <div className=\"header\">\n      <Link to=\"/\" className=\"saloon\">\n        Saloon\n      </Link>\n      <Search />\n      {isLoggedIn && (\n        <Link to=\"/post\" className=\"login-account\">\n          Post\n        </Link>\n      )}\n      {isLoggedIn ? (\n        <UserDropdown\n          name={user ? user.first_name : undefined}\n          redirect={props.history.push}\n        />\n      ) : (\n        <Link to=\"/login\" className=\"login-account\">\n          Login\n        </Link>\n      )}\n    </div>\n  )\n}\n\nfunction Search(props) {\n  return (\n    <div className=\"search-wrapper\">\n      <input placeholder=\"Search...\" />\n      <div>\n        <div className=\"body\">\n          <GoSearch size={20} className=\"icon\" color=\"white\" />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction UserDropdown(props) {\n  const [open, setOpen] = useState(false)\n  const { setIsLoggedIn, setToken } = useAuth()\n\n  const toggle = () => setOpen(!open)\n\n  const signOut = () => {\n    setToken(null)\n    setIsLoggedIn(false)\n    props.redirect('/')\n  }\n\n  const DropdownLink = ({ to, ...other }) => (\n    <DropdownItem onClick={() => props.redirect(to)} {...other} />\n  )\n\n  return (\n    <Dropdown isOpen={open} toggle={toggle} nav>\n      <DropdownToggle caret className=\"login-account\">\n        Hey, {props.name}\n      </DropdownToggle>\n      <DropdownMenu right>\n        <DropdownLink to=\"/user\">Profile</DropdownLink>\n        <DropdownLink to=\"/saved-conversations\">\n          Saved Conversations\n        </DropdownLink>\n        <DropdownLink to=\"/history\">History</DropdownLink>\n        <DropdownItem divider />\n        <DropdownLink to=\"/settings\">Settings</DropdownLink>\n        <DropdownItem divider />\n        <DropdownItem onClick={signOut}>Log Out</DropdownItem>\n      </DropdownMenu>\n    </Dropdown>\n  )\n}\n\nexport default withRouter(Header)\n","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\n\nimport './styles/Navigation.scss'\n\nfunction Navigation() {\n  return (\n    <div className=\"navigation\">\n      <div className=\"links\">\n        <NavLink to=\"/home\">Home</NavLink>\n        {/* <NavLink to=\"/popular\">Popular</NavLink>\n        <NavLink to=\"/tags\">Tags</NavLink> */}\n      </div>\n    </div>\n  )\n}\n\nconst NavLink = withRouter(props => {\n  const isSelected = () => props.location.pathname.includes(props.to)\n\n  return (\n    <Link\n      to={props.to}\n      className={[isSelected() ? 'selected' : '', 'nav-item'].join(' ')}\n    >\n      {props.children}\n    </Link>\n  )\n})\n\nexport default Navigation\n","/**\n * Modified from github:charlax/react-persist#patch-1\n */\n\nimport React from 'react'\nimport debounce from 'lodash.debounce'\nimport isEqual from 'lodash.isequal'\n\nexport default class Persist extends React.Component {\n  static defaultProps = {\n    debounce: 300,\n  }\n\n  persist = debounce(data => {\n    window.localStorage.setItem(this.props.name, JSON.stringify(data))\n  }, this.props.debounce)\n\n  componentDidUpdate({ data }) {\n    if (!isEqual(data, this.props.data)) {\n      this.persist(this.props.data)\n    }\n  }\n\n  componentDidMount() {\n    const data = window.localStorage.getItem(this.props.name)\n    if (data && data !== null) {\n      this.props.onMount(JSON.parse(data))\n    }\n\n    if (this.props.onComplete) this.props.onComplete()\n  }\n\n  render() {\n    return null\n  }\n}\n","import React from 'react'\nimport Interweave from 'interweave'\nimport { UrlMatcher } from 'interweave-autolink'\n\nexport default function ConfiguredInterweave(props) {\n  return <Interweave matchers={[new UrlMatcher('url')]} {...props} />\n}\n","import * as randCol from 'randomcolor'\n\n/**\n *\n * @param {string} username to be used as seed\n */\nexport function randomColor(username) {\n  return randCol({ seed: username })\n}\n","import React from 'react'\nimport Avatar from 'react-avatar'\nimport { withRouter } from 'react-router-dom'\n\nimport ConfiguredInterweave from '../components/ConfiguredInterweave'\n\nimport { randomColor } from '../_helpers'\n\nimport './styles/Feed.scss'\n\nfunction Feed(props) {\n  const { items } = props\n\n  var convo_ids = []\n\n  return (\n    <div className=\"feed\">\n      {(items || []).map(item => {\n        if (convo_ids.includes(item.convo_id)) return false\n        else {\n          convo_ids.push(item.convo_id)\n          return (\n            <FeedItem\n              {...item}\n              key={`Feed/${item.convo_id}`}\n              navigate={x => props.history.push(x)}\n              description={item.post}\n            />\n          )\n        }\n      })}\n    </div>\n  )\n}\n\nfunction FeedItem(props) {\n  return (\n    <>\n      <div\n        className=\"item\"\n        onClick={() => props.navigate(`/conversation/${props.convo_id}`)}\n      >\n        <div className=\"title\">{props.title}</div>\n        <div className=\"inner\">\n          <Metadata {...props} />\n          <div className=\"body\">\n            <ConfiguredInterweave content={props.description} />\n          </div>\n        </div>\n      </div>\n      <div className=\"break\" />\n    </>\n  )\n}\n\nfunction Metadata(props) {\n  const format = list => {\n    if (list.length === 1) return list[0]\n    else if (list.length === 2) return `${list[0]} and ${list[1]}`\n    else if (list.length === 3) return `${list[0]}, ${list[1]} and ${list[2]}`\n    else if (list.length === 4)\n      return `${list[0]}, ${list[1]}, ${list[2]} and ${list[3]}`\n  }\n\n  return (\n    <div className=\"meta\">\n      <PeopleInvolved\n        people={props.contributors}\n        description={format(props.contributors)}\n      />\n      <div className=\"creator\">{props.creator}</div>\n      <div className=\"convo-data\">\n        <div className=\"left\">\n          <div>edited {props.age}</div>\n          <div>viewed {props.views} times</div>\n        </div>\n        <div className=\"right\">\n          <div>{props.votes} votes</div>\n          <div>{props.comments} comments</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction PeopleInvolved(props) {\n  return (\n    <div className=\"discussed-by\">\n      <Avatar\n        name={props.people[0]}\n        color={randomColor(props.people[0])}\n        round\n        size={42}\n      />\n      {props.people.length > 1 && (\n        <Avatar\n          name={props.people[1]}\n          color={randomColor(props.people[1])}\n          round\n          size={42}\n        />\n      )}\n      <span className=\"text\">\n        <div>Discussion by {props.description}</div>\n      </span>\n    </div>\n  )\n}\n\nexport default withRouter(Feed)\n","import { useState, useEffect } from 'react'\n\nimport * as conversationService from '../services/conversation.service'\n\nimport useAuth from './useAuth'\n\nexport default function useFeed() {\n  const {\n    token,\n    setToken,\n    isLoggedIn,\n    setIsLoggedIn,\n    didPersistLoad,\n  } = useAuth()\n  const [feed, setFeed] = useState(null)\n\n  useEffect(() => {\n    if (feed || !didPersistLoad) return\n\n    const logout = () => {\n      setToken(null)\n      setIsLoggedIn(false)\n      setFeed(null)\n    }\n\n    conversationService\n      .getFeed(token)\n      .then(u => setFeed(u.convos))\n      .catch(_ => logout())\n  }, [token, feed, setToken, isLoggedIn, setIsLoggedIn, didPersistLoad])\n\n  return feed\n}\n","import fetch from './fetch'\n\nexport function getFeed(token) {\n  return fetch('/feed', {\n    method: 'GET',\n    headers: token ? { Authorization: token } : undefined,\n  })\n}\n\nexport function getConversation(id, { token } = {}) {\n  return fetch(`/convo/${id}`, {\n    method: 'GET',\n    headers: token ? { Authorization: token } : undefined,\n  })\n}\n\nexport function postConversation(token, { title, body }) {\n  return fetch('/convo', {\n    method: 'POST',\n    headers: { Authorization: token },\n    body: { title, post: body },\n  })\n}\n\nexport function putVote(id, { token, vote }) {\n  return fetch(`/convo/${id}/vote/${vote}`, {\n    method: 'PUT',\n    headers: token ? { Authorization: token } : undefined,\n  })\n}\n\nexport function postConversationPost(token, { convo_id, post }) {\n  return fetch('/post', {\n    method: 'POST',\n    headers: { Authorization: token },\n    body: { convo_id, post },\n  })\n}\n\nexport function postContributor(user, { convo_id, token }) {\n  return fetch('/contributor', {\n    method: 'POST',\n    headers: { Authorization: token },\n    body: { convo_id, invite: user },\n  })\n}\n","import React from 'react'\n\nimport Feed from '../components/Feed'\n\nimport useFeed from '../hooks/useFeed'\n\nfunction Home() {\n  const feed = useFeed()\n\n  return (\n    <div className=\"home\">\n      <Feed items={feed} />\n    </div>\n  )\n}\n\nexport default Home\n","import React from 'react'\nimport { Formik, Form, Field as FormikField, ErrorMessage } from 'formik'\n\nimport './styles/Form.scss'\n\nfunction Field(props) {\n  return (\n    <>\n      <div className=\"field-title\">{props.placeholder}</div>\n      <FormikField {...props} />\n      <ErrorMessage\n        name={props.name}\n        render={msg => <div className=\"error\">{msg.replace('_', ' ')}</div>}\n      />\n    </>\n  )\n}\n\nexport { Formik, Form, Field }\n","import React from 'react'\nimport { Link, Redirect } from 'react-router-dom'\nimport { Formik, Form, Field } from '../components/Form'\n\nimport * as authenticationService from '../services/authentication.service'\n\nimport useAuth from '../hooks/useAuth'\n\nfunction Login(props) {\n  const { isLoggedIn, setIsLoggedIn, setToken } = useAuth()\n\n  return isLoggedIn ? (\n    <Redirect\n      to={props.location.state ? props.location.state.from.pathname : '/'}\n    />\n  ) : (\n    <div className=\"form\">\n      <h1>Login</h1>\n      <Formik\n        initialValues={{ email: '', password: '' }}\n        onSubmit={({ email, password }, actions) => {\n          authenticationService\n            .login(email, password)\n            .then(data => {\n              setToken(data.token)\n              setIsLoggedIn(true)\n            })\n            .catch(e => {\n              actions.setErrors({\n                password: 'incorrect password',\n              })\n              actions.setSubmitting(false)\n            })\n        }}\n      >\n        {({ isSubmitting }) => (\n          <Form>\n            <Field type=\"text\" name=\"email\" placeholder=\"email\" />\n            <Field type=\"password\" name=\"password\" placeholder=\"password\" />\n            <button type=\"submit\" disabled={isSubmitting}>\n              Submit\n            </button>\n            <div className=\"switch-here\">\n              Don't have an account? Join <Link to=\"/register\">here</Link>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  )\n}\n\nexport default Login\n","import fetch from './fetch'\n\nexport function login(email, password) {\n  return fetch('/user/login', { method: 'POST', body: { email, password } })\n}\n\nexport function register({ username, password, first_name, last_name, email }) {\n  return fetch('/user/signup', {\n    method: 'POST',\n    body: { username, first_name, last_name, password, email },\n  })\n}\n","import React from 'react'\nimport { Link, Redirect } from 'react-router-dom'\nimport { Formik, Form, Field } from '../components/Form'\nimport * as Yup from 'yup'\n\nimport * as authenticationService from '../services/authentication.service'\n\nimport useAuth from '../hooks/useAuth'\n\nfunction Register() {\n  const { setToken, setIsLoggedIn, isLoggedIn } = useAuth()\n\n  return isLoggedIn ? (\n    <Redirect to=\"/home\" />\n  ) : (\n    <div className=\"form\">\n      <h1>Register</h1>\n      <Formik\n        initialValues={{\n          username: '',\n          password: '',\n          first_name: '',\n          last_name: '',\n          email: '',\n        }}\n        onSubmit={(vals, actions) => {\n          authenticationService\n            .register(vals)\n            .then(data => {\n              setToken(data.token)\n              setIsLoggedIn(true)\n            })\n            .catch(_ => actions.setFieldError('email', 'something went wrong'))\n        }}\n        validationSchema={Yup.object().shape({\n          first_name: Yup.string().required(),\n          last_name: Yup.string().required(),\n          username: Yup.string().required(),\n          password: Yup.string().required(),\n        })}\n      >\n        {({ isSubmitting }) => (\n          <Form>\n            <Field type=\"email\" name=\"email\" placeholder=\"email\" />\n            <Field type=\"text\" name=\"first_name\" placeholder=\"first name\" />\n            <Field type=\"text\" name=\"last_name\" placeholder=\"last name\" />\n            <Field type=\"text\" name=\"username\" placeholder=\"username\" />\n            <Field type=\"password\" name=\"password\" placeholder=\"password\" />\n            <button type=\"submit\" disabled={isSubmitting}>\n              Submit\n            </button>\n            <div className=\"switch-here\">\n              Already have an account? Login <Link to=\"/login\">here</Link>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  )\n}\n\nexport default Register\n","import React, { useState, useMemo } from 'react'\n\nimport './styles/Sidebar.scss'\n\nfunction Sidebar(props) {\n  const { children } = props\n\n  const [showing, setShowing] = useState(false)\n  const toggleShowing = () => setShowing(!showing)\n\n  const [selectedIndex, setSelected] = useState(0)\n\n  const activeMeta = []\n\n  function handleIconClick(index) {\n    if (index === selectedIndex) toggleShowing()\n    else {\n      if (showing === false) toggleShowing()\n      setSelected(index)\n    }\n  }\n\n  function ActiveChildElement() {\n    const count = React.Children.count(children)\n    return count === 0 ? null : count === 1 ? children : children[selectedIndex]\n  }\n\n  useMemo(\n    () =>\n      React.Children.forEach(children, (child, i) => {\n        if (!React.isValidElement(child)) return\n\n        activeMeta.push({\n          index: i,\n          Icon: child.props.icon,\n          title: child.props.title,\n          style: child.props.style,\n        })\n      }),\n    [children, activeMeta]\n  )\n\n  return (\n    <div\n      className={`sidebar ${showing ? '' : 'minimized'}`}\n      style={activeMeta[selectedIndex].style || {}}\n    >\n      <div className=\"icons\">\n        {activeMeta.map(({ index, Icon }) => {\n          return (\n            <div\n              className=\"icon\"\n              key={`Sidebar/Icon/${index}`}\n              onClick={() => handleIconClick(index)}\n            >\n              <Icon />\n            </div>\n          )\n        })}\n      </div>\n      <div className={`sidebar-inner ${showing ? '' : 'fade'}`}>\n        <div className=\"section-title\">{activeMeta[selectedIndex].title}</div>\n        {<ActiveChildElement />}\n      </div>\n    </div>\n  )\n}\n\nexport default Sidebar\n","import React from 'react'\nimport ReactQuill from 'react-quill'\n\nexport default function ConfiguredQuill(props) {\n  const { value, setValue, ...otherProps } = props\n\n  return (\n    <ReactQuill\n      theme=\"snow\"\n      modules={{\n        toolbar: [['bold', 'italic', 'underline', 'strike'], ['link']],\n      }}\n      formats={['bold', 'italic', 'underline', 'strike', 'link']}\n      value={value || ''}\n      onChange={x => setValue(x)}\n      {...otherProps}\n    />\n  )\n}\n","import React, { useState } from 'react'\n\nimport { FiArrowRightCircle } from 'react-icons/fi'\nimport Avatar from 'react-avatar'\n\nimport useUser from '../hooks/useUser'\n\nimport { randomColor } from '../_helpers'\n\nimport './styles/Contributors.scss'\n\nconst missingPropWarning = (propName, noRet) => {\n  console.warn(`Contributors component was not given an '${propName}' prop`)\n  return !noRet ? null : []\n}\n\n/**\n *\n * @param {{ sections: [\"invited\" | \"active\"], ...other }} props\n */\nexport default function Contributors(props) {\n  const user = useUser()\n\n  const SECTION_COMPONENT_LOOKUP = {\n    invited: InvitedSection,\n    active: ActiveSection,\n  }\n\n  const invite = newUser => {\n    if (\n      !props.invited.includes(newUser) &&\n      newUser.toLowerCase() !== user.username.toLowerCase() &&\n      newUser.trim() !== ''\n    )\n      props.onInvite(newUser)\n  }\n\n  const sections = props.sections || []\n  return (\n    <div className=\"contributors\">\n      {!props.noTitle && <div>Contributors</div>}\n      {sections.map((section, i) => {\n        const Component = SECTION_COMPONENT_LOOKUP[section]\n        return <Component key={`Contributors/${section}/${i}`} {...props} />\n      })}\n      <InviteBar onInvite={invite || (() => missingPropWarning('onInvite'))} />\n      {props.children}\n    </div>\n  )\n}\n\nfunction ActiveSection(props) {\n  return (\n    <ContributorSection\n      color=\"black\"\n      contributors={props.active || missingPropWarning('active')}\n    >\n      Active\n    </ContributorSection>\n  )\n}\n\nfunction InvitedSection(props) {\n  return (\n    <ContributorSection\n      color=\"gray\"\n      contributors={props.invited || missingPropWarning('invited')}\n    >\n      Invited\n    </ContributorSection>\n  )\n}\n\nfunction ContributorSection(props) {\n  const { color, contributors, children } = props\n\n  return (\n    <div className=\"section\">\n      <div className=\"title\">{children}</div>\n      <div className=\"users\">\n        {(contributors || []).map(invite => (\n          <Contributor key={`invite/${invite}`} color={color}>\n            {invite}\n          </Contributor>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nfunction Contributor(props) {\n  const { color = undefined } = props\n  return (\n    <div className=\"user\">\n      <Avatar\n        name={props.children}\n        src={props.image || null}\n        color={randomColor(props.children)}\n        round\n        size={25}\n      />\n      <span className=\"name\" style={{ color }}>\n        {props.children}\n      </span>\n    </div>\n  )\n}\n\nfunction InviteBar(props) {\n  const [user, setUser] = useState('')\n\n  let inputRef\n  const inviteUser = () => {\n    props.onInvite(user)\n    setUser('')\n    inputRef.focus()\n  }\n\n  return (\n    <div className=\"invite\">\n      <div className=\"title\">Invite Someone</div>\n      <div className=\"field\">\n        <input\n          className=\"clear-input\"\n          placeholder=\"username\"\n          autoComplete=\"off\"\n          value={user}\n          onChange={e => setUser(e.currentTarget.value)}\n          onKeyDown={e => (e.key === 'Enter' ? inviteUser() : null)}\n          ref={input => (inputRef = input)}\n        />\n        <FiArrowRightCircle className=\"submit\" onClick={inviteUser} />\n      </div>\n    </div>\n  )\n}\n","import { useState, useEffect } from 'react'\n\nimport useAuth from './useAuth'\n\nimport * as conversationService from '../services/conversation.service'\n\nexport default function useConversation(id, { reload, token }) {\n  const [conversation, setConvo] = useState({})\n  const { didPersistLoad } = useAuth()\n\n  useEffect(() => {\n    if (!didPersistLoad) return\n\n    conversationService\n      .getConversation(id, { token })\n      .then(u => setConvo(u))\n      .catch(_ => {})\n  }, [id, reload, token, didPersistLoad])\n\n  return conversation\n}\n","import { useState, useEffect } from \"react\";\n\nimport useAuth from \"./useAuth\";\n\nimport * as commentService from \"../services/comment.service\";\n\nexport default function useConversation(id, { reload, token }) {\n  const [comments, setComments] = useState([]);\n  const { didPersistLoad } = useAuth();\n\n  useEffect(() => {\n    if (!didPersistLoad) return;\n\n    commentService\n      .getComments(id)\n      .then(u => setComments(u))\n      .catch(_ => {});\n  }, [id, reload, token, didPersistLoad]);\n\n  return comments;\n}\n","import fetch from \"./fetch\";\n\nexport function getComments(convo_id) {\n  return fetch(`/comment/${convo_id}`, { method: \"GET\" })\n}\n\nexport function postComment(token, { convo_id, comment }) {\n  return fetch(\"/comment\", { method: \"POST\", headers: { Authorization: token }, body: { convo_id, post: comment } });\n}\n\nexport function putVote(id, { token, vote }) {\n  return fetch(`/comment/${id}/vote/${vote}`, { method: \"PUT\", headers: token ? { Authorization: token } : undefined });\n}","import { useState } from \"react\";\n\nexport default function useReload() {\n  const [reload, setReload] = useState(-1);\n\n  return [reload, () => setReload(-reload)];\n}","import React, { useState } from 'react'\nimport { GoCommentDiscussion, GoOrganization } from 'react-icons/go'\nimport { FiThumbsUp, FiThumbsDown } from 'react-icons/fi'\n\nimport Sidebar from '../components/Sidebar'\nimport ConfiguredQuill from '../components/ConfiguredQuill'\nimport ConfiguredInterweave from '../components/ConfiguredInterweave'\nimport Contributors from '../components/Contributors'\n\nimport useConversation from '../hooks/useConversation'\nimport useComments from '../hooks/useComments'\nimport useAuth from '../hooks/useAuth'\nimport useReload from '../hooks/useReload'\n\nimport * as conversationService from '../services/conversation.service'\nimport * as commentService from '../services/comment.service'\n\nimport { randomColor } from '../_helpers'\n\nimport './styles/Conversation.scss'\n\nfunction Conversation(props) {\n  const id = props.match.params.id\n  const { token, isLoggedIn } = useAuth()\n\n  const [convoReload, reloadConvo] = useReload()\n  const [commentReload, reloadComments] = useReload()\n\n  const convo = useConversation(id, { reload: convoReload, token })\n  const comments = useComments(id, { reload: commentReload, token })\n\n  const [post, setPost] = useState('')\n  const [invited, setInvited] = useState(convo.contributors || [])\n\n  const inviteContributor = newUser => {\n    setInvited([...invited, newUser])\n\n    conversationService\n      .postContributor(newUser, { token, convo_id: id })\n      .then(_ => reloadConvo())\n      .catch(_ => {}) // Handle erroring later\n  }\n\n  const postConvoPost = () => {\n    conversationService\n      .postConversationPost(token, { convo_id: id, post })\n      .then(() => {\n        reloadConvo()\n        setPost('')\n      })\n      .catch(_ => {}) // Handle erroring later\n  }\n\n  function postComment(comment) {\n    return commentService\n      .postComment(token, { convo_id: id, comment })\n      .then(() => reloadComments())\n      .catch(_ => {}) // Handle erroring later\n  }\n\n  /**\n   *\n   * @param {'1' | '0' | '-1'} vote\n   */\n  const updateVote = vote => {\n    conversationService\n      .putVote(id, { token, vote })\n      .then(() => reloadConvo())\n      .catch(_ => {}) // Handle erroring later\n  }\n\n  return (\n    <div className=\"conversation\">\n      <Discussion\n        posts={convo.posts}\n        submit={postConvoPost}\n        body={post}\n        setBody={setPost}\n        isLoggedIn={isLoggedIn}\n        isContributor={convo.isContributor}\n      />\n      <Title\n        title={convo.title}\n        views={convo.views}\n        votes={convo.votes}\n        userVote={convo.vote}\n        updateVote={updateVote}\n        isLoggedIn={isLoggedIn}\n        isContributor={convo.isContributor}\n        navigate={props.history.push}\n        id={id}\n      />\n      <Sidebar>\n        <Comments\n          icon={GoCommentDiscussion}\n          title=\"Comments\"\n          comments={comments || []}\n          postComment={postComment}\n        />\n        <Contributors\n          icon={GoOrganization}\n          title=\"Contributors\"\n          style={{ width: '100px', transition: 'all 0.5s ease-in' }}\n          sections={['active', 'invited']}\n          invited={invited}\n          active={convo.contributors}\n          onInvite={inviteContributor}\n          noTitle\n        />\n      </Sidebar>\n    </div>\n  )\n}\n\nfunction Title(props) {\n  const {\n    title,\n    views,\n    votes,\n    userVote,\n    updateVote,\n    isLoggedIn,\n    isContributor,\n    navigate,\n    id,\n  } = props\n\n  const handleVote = nVote => {\n    if (nVote === userVote) updateVote(0)\n    else updateVote(nVote)\n  }\n\n  return (\n    <div className=\"d-title\">\n      <TitleVote votes={votes} userVote={userVote} setVote={handleVote} />\n      <div>\n        <div className=\"text\">{title}</div>\n        {(!isLoggedIn || !isContributor) && (\n          <div\n            className=\"join\"\n            onClick={() =>\n              isContributor\n                ? false // Handle contributor request\n                : navigate({\n                    pathname: '/login',\n                    state: {\n                      from: {\n                        pathname: `/conversation/${id}`,\n                      },\n                    },\n                  })\n            }\n          >\n            Join Conversation\n          </div>\n        )}\n      </div>\n      <div className=\"views\">{views} views</div>\n    </div>\n  )\n}\n\nfunction TitleVote(props) {\n  const { votes = '0', userVote, setVote } = props\n\n  return (\n    <div className=\"vote\">\n      <FiThumbsUp\n        className={`thumb ${userVote === 1 ? 'upvoted' : ''}`}\n        onClick={() => setVote(1)}\n      />\n      <span className=\"amount\">{votes}</span>\n      <FiThumbsDown\n        className={`thumb ${userVote === -1 ? 'upvoted' : ''}`}\n        onClick={() => setVote(-1)}\n      />\n    </div>\n  )\n}\n\nfunction Discussion(props) {\n  const { posts, body, setBody, submit, isLoggedIn, isContributor } = props\n\n  return (\n    <div className=\"discussion\">\n      <div className=\"inner\">\n        {posts &&\n          posts.map((item, index) => (\n            <DiscussionItem\n              {...item}\n              key={`${item.contributor}/${item.time_of_post}/${index}`}\n            />\n          ))}\n      </div>\n      {isLoggedIn && isContributor && (\n        <div className=\"editor-wrapper\">\n          <ConfiguredQuill value={body} setValue={setBody} />\n          <div className=\"post-button\" onClick={submit}>\n            Submit\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nfunction DiscussionItem(props) {\n  const { contributor, post } = props\n\n  return (\n    <>\n      <div className=\"item\">\n        <span style={{ color: randomColor(contributor) }}>{contributor}: </span>\n        <ConfiguredInterweave content={post} />\n      </div>\n      <div className=\"break\" />\n    </>\n  )\n}\n\nfunction Comments(props) {\n  const [newComment, setNewComment] = useState('')\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  function postComment() {\n    if (isSubmitting) return\n    setIsSubmitting(true)\n\n    props.postComment(newComment).then(_ => {\n      setIsSubmitting(false)\n      setNewComment('')\n    })\n  }\n\n  return (\n    <>\n      {props.comments.map((comment, index) => (\n        <Comment\n          key={`${comment.contributor}/${comment.time_of_comment}/${index}`}\n          {...comment}\n        />\n      ))}\n      <div className=\"add\">\n        <textarea\n          value={newComment}\n          onChange={e => setNewComment(e.currentTarget.value)}\n        />\n        <button type=\"submit\" onClick={postComment}>\n          {!isSubmitting ? 'Submit' : 'Posting'}\n        </button>\n      </div>\n    </>\n  )\n}\n\nfunction Comment(props) {\n  const { time_of_comment, contributor, body, likes } = props\n  const [upvoted, setUpvoted] = useState(false)\n\n  return (\n    <div className=\"comment\">\n      <div className=\"meta\">\n        <div\n          className=\"contributor\"\n          style={{ color: randomColor(contributor) }}\n        >\n          {contributor}\n        </div>\n        <div\n          className={`likes ${upvoted ? 'upvoted' : ''}`}\n          onClick={() => setUpvoted(!upvoted)}\n        >\n          {upvoted ? likes + 1 : likes}{' '}\n          <FiThumbsUp style={{ fontSize: '12px' }} />\n        </div>\n        <div className=\"time\">{time_of_comment}</div>\n      </div>\n      <div className=\"body\">{body}</div>\n    </div>\n  )\n}\n\nexport default Conversation\n","import React, { useState } from 'react'\nimport { Spinner } from 'reactstrap'\n\nimport ConfiguredQuill from '../components/ConfiguredQuill'\nimport Contributors from '../components/Contributors'\n\nimport * as conversationService from '../services/conversation.service'\n\nimport useAuth from '../hooks/useAuth'\n\nimport './styles/Post.scss'\nimport 'react-quill/dist/quill.snow.css'\n\nexport default function Post(props) {\n  const { token } = useAuth()\n\n  const [title, setTitle] = useState('')\n  const [body, setBody] = useState('')\n\n  const [invited, setInvited] = useState([])\n  const addInvited = newUser => setInvited([...invited, newUser])\n\n  const [submitting, setSubmitting] = useState(false)\n\n  function uploadPost() {\n    setSubmitting(true)\n\n    conversationService\n      .postConversation(token, { title, body })\n      .then(data => {\n        setSubmitting(false)\n        props.history.push(`/conversation/${data.convo_id}`)\n      })\n      .catch(_ => {\n        setSubmitting(false)\n      })\n  }\n\n  return (\n    <div className=\"post\">\n      <Editor title={title} setTitle={setTitle} body={body} setBody={setBody} />\n      <div className=\"\">\n        <Contributors\n          sections={['invited']}\n          onInvite={addInvited}\n          invited={invited}\n        >\n          <div className=\"post-button\" onClick={uploadPost}>\n            {!submitting ? (\n              <div className=\"text\">Post</div>\n            ) : (\n              <Spinner\n                css={`\n                  width: 50px;\n                  height: 50px;\n                  flex: 1;\n                `}\n              />\n            )}\n          </div>\n        </Contributors>\n      </div>\n    </div>\n  )\n}\n\nfunction Editor(props) {\n  const { title, setTitle, body, setBody } = props\n\n  return (\n    <div className=\"editor\">\n      <input\n        className=\"post-title\"\n        placeholder=\"Title\"\n        value={title}\n        onChange={e => setTitle(e.currentTarget.value)}\n      />\n      <ConfiguredQuill value={body} onChange={val => setBody(val)} />\n    </div>\n  )\n}\n","import React, { useState } from 'react'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from 'react-router-dom'\n\nimport Header from './components/Header'\nimport Navigation from './components/Navigation'\nimport Persist from './components/Persist'\n\nimport Home from './pages/Home'\nimport Login from './pages/Login'\nimport Register from './pages/Register'\nimport Conversation from './pages/Conversation'\nimport Post from './pages/Post'\n\nimport './App.scss'\n\n/**\n * @type {React.Context<{ isLoggedIn: boolean, setIsLoggedIn: (val: boolean)=> void, token: string, didPersistLoad: boolean setToken: (val: string) => void }>}\n */\nconst AuthContext = React.createContext()\n\nfunction App() {\n  const [didPersistLoad, setPersistLoad] = useState(false)\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false)\n  const [token, setToken] = useState(null)\n\n  return (\n    <AuthContext.Provider\n      value={{\n        isLoggedIn,\n        setIsLoggedIn,\n        token,\n        setToken,\n        didPersistLoad,\n      }}\n    >\n      <Persist\n        data={{ token, isLoggedIn }}\n        debounce={500}\n        onMount={data => {\n          setIsLoggedIn(data.isLoggedIn)\n          setToken(data.token)\n        }}\n        onComplete={() => setPersistLoad(true)}\n      />\n      <Router>\n        <div>\n          <Header />\n          <Navigation />\n          <div className=\"content\">\n            <Switch>\n              <Redirect exact from=\"/\" to=\"/home\" />\n              <Route exact path=\"/home\" component={Home} />\n              <Route exact path=\"/login\" component={Login} />\n              <Route exact path=\"/register\" component={Register} />\n              <Route exact path=\"/conversation/:id\" component={Conversation} />\n              <SecuredRoute\n                exact\n                path=\"/post\"\n                component={Post}\n                authenticated={isLoggedIn}\n              />\n            </Switch>\n          </div>\n        </div>\n      </Router>\n    </AuthContext.Provider>\n  )\n}\n\nfunction SecuredRoute({ component: Component, authenticated, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        authenticated === true ? (\n          <Component {...props} {...rest} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/login',\n              state: { from: props.location },\n            }}\n          />\n        )\n      }\n    />\n  )\n}\n\nexport default App\nexport { AuthContext }\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}